<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Price Calculator</title>
<style>
  body { font-family: Arial, sans-serif; padding: 20px; position: relative; }
  .calculator { margin-top: 20px; padding: 15px; border: 1px solid #ccc; width: 300px; }
  label { display: block; margin-top: 10px; }
  input { width: 100%; padding: 5px; margin-top: 5px; }
  button { margin-top: 10px; padding: 10px; cursor: pointer; }
  /* Top-right buttons */
  .top-right-buttons {
    position: fixed;
    top: 20px;
    right: 20px;
    display: flex;
    flex-direction: column;
    gap: 10px;
    z-index: 1000;
  }
  #sellingBox {
    position: fixed;
    top: 100px; /* below buttons */
    right: 20px;
    background: #f1f1f1;
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 5px;
    display: none;
    width: 200px;
    z-index: 999;
  }
</style>
</head>
<body>

<div class="top-right-buttons">
  <button id="pworldBtn">pworld</button>
  <button id="sellingBtn">Selling</button>
</div>

<div class="calculator" id="mainCalculator">
  <h3>Main Calculator</h3>
  <label>Total Cost:
    <input type="number" id="totalCost" value="1500">
  </label>
  <label>Quantity:
    <input type="number" id="quantity" value="234">
  </label>
  <button onclick="calculateMain()">Calculate</button>
  <p>Capital per item: <span id="capital">0</span></p>
  <p>Selling price (capital + 5%): <span id="selling">0</span></p>
</div>

<div class="calculator" id="pworldCalculator" style="display:none;">
  <h3>Pworld Calculator</h3>
  <label>Total:
    <input type="number" id="pTotal" value="1500">
  </label>
  <label>Quantity:
    <input type="number" id="pQuantity" value="234">
  </label>
  <button onclick="calculatePworld()">Calculate</button>
  <p>Grand Total (Total × 0.97 × 0.99): <span id="grandTotal">0</span></p>
  <p>Capital per item: <span id="pCapital">0</span></p>
  <p>Selling price (capital + 5%): <span id="pSelling">0</span></p>
</div>

<!-- Floating Selling Box -->
<div id="sellingBox">
  <label>Capital:
    <input type="number" id="floatCapital" value="45">
  </label>
  <button onclick="calculateSelling()">Calculate Selling</button>
  <p>Selling Price: <span id="floatSelling">0</span></p>
</div>

<script>
function calculateMain() {
  let totalCost = parseFloat(document.getElementById('totalCost').value);
  let quantity = parseFloat(document.getElementById('quantity').value);
  let capital = totalCost / quantity;
  let selling = capital * 1.05;

  document.getElementById('capital').innerText = capital.toFixed(2);
  document.getElementById('selling').innerText = selling.toFixed(2);
}

function calculatePworld() {
  let total = parseFloat(document.getElementById('pTotal').value);
  let quantity = parseFloat(document.getElementById('pQuantity').value);

  let grandTotal = total * 0.97 * 0.99;
  let capital = grandTotal / quantity;
  let selling = capital * 1.05;

  document.getElementById('grandTotal').innerText = grandTotal.toFixed(2);
  document.getElementById('pCapital').innerText = capital.toFixed(2);
  document.getElementById('pSelling').innerText = selling.toFixed(2);
}

function calculateSelling() {
  let capital = parseFloat(document.getElementById('floatCapital').value);
  let selling = capital * 1.05;
  document.getElementById('floatSelling').innerText = selling.toFixed(2);
}

// Toggle calculator visibility and update button text
document.getElementById('pworldBtn').addEventListener('click', () => {
  const pworldCalc = document.getElementById('pworldCalculator');
  const mainCalc = document.getElementById('mainCalculator');
  const btn = document.getElementById('pworldBtn');
  
  if (pworldCalc.style.display === 'none') {
    pworldCalc.style.display = 'block';
    mainCalc.style.display = 'none';
    btn.innerText = 'main';
  } else {
    pworldCalc.style.display = 'none';
    mainCalc.style.display = 'block';
    btn.innerText = 'pworld';
  }
});

// Toggle floating selling box visibility
document.getElementById('sellingBtn').addEventListener('click', () => {
  const box = document.getElementById('sellingBox');
  box.style.display = box.style.display === 'none' ? 'block' : 'none';
});
</script>

</body>
</html>
